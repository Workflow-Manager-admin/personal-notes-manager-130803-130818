{"is_source_file": true, "format": "TypeScript (Angular Service)", "description": "This file defines an Angular service 'NotesService' that interacts with a Supabase backend to perform CRUD operations on notes. It includes methods to fetch, add, update, and delete notes, and manages notes as an observable stream for consumption within an Angular application.", "external_files": ["@angular/core", "@supabase/supabase-js", "rxjs"], "external_methods": ["createClient", "BehaviorSubject", "from", "Observable"], "published": ["Note", "NotesService"], "classes": [{"name": "NotesService", "description": "Angular service providing CRUD operations for notes connected to a Supabase database."}], "methods": [{"name": "constructor", "description": "Initializes the NotesService, sets up the Supabase client with environment variables, and fetches initial notes."}, {"name": "fetchNotes", "description": "Fetches all notes from the Supabase database, ordering them by 'updated_at' descending, and updates the observable."}, {"name": "addNote", "description": "Inserts a new note with the given title and content into the database and returns an observable of the result."}, {"name": "updateNote", "description": "Updates the note with the specified id, setting new title, content, and updated_at timestamp, then returns an observable of the result."}, {"name": "deleteNote", "description": "Deletes the note with the specified id from the database and returns an observable of the result."}], "calls": ["createClient", "this.supabase.from", "this.notesSubject.next", "from", "console.error"], "search-terms": ["supabase", "NotesService", "Angular", "Note", "CRUD"], "state": 2, "file_id": 21, "knowledge_revision": 75, "git_revision": "", "revision_history": [{"43": ""}, {"62": ""}, {"70": ""}, {"75": ""}], "ctags": [{"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^export interface Note {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^export class NotesService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  content: string;$/", "language": "TypeScript", "kind": "property", "scope": "Note", "scopeKind": "interface"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  created_at: string;$/", "language": "TypeScript", "kind": "property", "scope": "Note", "scopeKind": "interface"}, {"_type": "tag", "name": "deletePromise", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const deletePromise = this.supabase$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "Note", "scopeKind": "interface"}, {"_type": "tag", "name": "insertPromise", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const insertPromise = this.supabase$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "notesSubject", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  private notesSubject = new BehaviorSubject<Note[]>([]);$/", "language": "TypeScript", "kind": "property", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  private supabase: SupabaseClient;$/", "language": "TypeScript", "kind": "property", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "supabaseKey", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^    let supabaseKey = \"\";$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "supabaseUrl", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^    let supabaseUrl = \"\";$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  title: string;$/", "language": "TypeScript", "kind": "property", "scope": "Note", "scopeKind": "interface"}, {"_type": "tag", "name": "updatePromise", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const updatePromise = this.supabase$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-130803-130818/notes_frontend/src/app/notes.service.ts", "pattern": "/^  updated_at: string;$/", "language": "TypeScript", "kind": "property", "scope": "Note", "scopeKind": "interface"}], "hash": "5bde429afa52c099698eedb6f1b6c648", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/notes.service.ts", "fields": [{"name": "export interface Note {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "content: string;", "scope": "Note", "scopeKind": "interface", "description": "unavailable"}, {"name": "created_at: string;", "scope": "Note", "scopeKind": "interface", "description": "unavailable"}, {"name": "id: number;", "scope": "Note", "scopeKind": "interface", "description": "unavailable"}, {"name": "private notesSubject = new BehaviorSubject<Note[]>([]);", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "private supabase: SupabaseClient;", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "let supabaseKey = \"\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let supabaseUrl = \"\";", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "title: string;", "scope": "Note", "scopeKind": "interface", "description": "unavailable"}, {"name": "updated_at: string;", "scope": "Note", "scopeKind": "interface", "description": "unavailable"}]}